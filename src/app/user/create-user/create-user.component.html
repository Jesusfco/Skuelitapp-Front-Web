<div class="background" [@background]>
</div>
<div id="createCard" @principal>

    <a [routerLink]="['../']">
        <div id="cerrarBtn"> Cerrar <i class="material-icons">close</i></div>
    </a>


    <div class="form" [ngClass]="{'loadingForm': sendingData == true}">
        <h1 align="center">Crear Usuario</h1>

        <div class="container">
            <form class="flexRow" (submit)="createUser()" enctype="multipart/form-data" autocomplete="off">
                <div class="flexRow l6">
                    <h2 class="l12">Datos Personales</h2>

                    <div class="formData l6 m6">
                        <label>Nombres:</label><br>
                        <input [(ngModel)]="user.name" name="name" type="text" placeholder="Nombre" (keydown)="user.upperCaseName()" [ngClass]="{ 'inputError': user.validations.name > 0, 'inputValidate': user.validations.name < 0 }">
                        <small class="error" *ngIf="user.validations.name == 1">Se requiere el nombre</small>
                        <small class="validate" *ngIf="user.validations.name == -1">Correcto</small>
                    </div>

                    <div class="formData l6 m6">
                        <label>Apellido Paterno:</label><br>
                        <input [(ngModel)]="user.patern_surname" name="patern_surname" type="text" placeholder="Nombre" (keydown)="user.upperCasePatern()" [ngClass]="{ 'inputError': user.validations.patern_surname > 0, 'inputValidate': user.validations.patern_surname < 0 }">
                        <small class="error" *ngIf="user.validations.patern_surname == 1">Se requiere el nombre</small>
                        <small class="validate" *ngIf="user.validations.patern_surname == -1">Correcto</small>
                    </div>

                    <div class="formData l6 m6">
                        <label>Apellido Materno:</label><br>
                        <input [(ngModel)]="user.matern_surname" name="matern_surname" type="text" placeholder="Nombre" (keydown)="user.upperCaseMatern()" [ngClass]="{ 'inputError': user.validations.matern_surname > 0, 'inputValidate': user.validations.matern_surname < 0 }">
                        <small class="error" *ngIf="user.validations.matern_surname == 1">Se requiere el nombre</small>
                        <small class="validate" *ngIf="user.validations.matern_surname == -1">Correcto</small>
                    </div>


                    <div class="formData l6 m6">
                        <label>Correo:</label><br>
                        <input [(ngModel)]="user.email" name="email" type="email" placeholder="Correo" (keyup)="mailWriting()" [ngClass]="{ 'inputError': user.validations.email > 0, 'inputValidate': user.validations.email < 0 }">
                        <small class="error" *ngIf="user.validations.email == 1">Correo Requerido</small>
                        <small class="error" *ngIf="user.validations.email == 2">Correo ya asignado</small>
                    </div>

                    <div class="formData l6 m6">
                        <label>Tipo de usuario:</label><br>
                        <select [(ngModel)]="user.user_type" name="user_type">
                            <option value="1">Alumno</option> 
                            <option value="2">Tutor</option>
                            <option value="3">Maestro</option>
                            <option value="4">Cajero</option>
                            <option value="5">Adminsitrador</option>
                        </select>
                    </div>

                    <div class="formData l6 m6">
                        <label>Genero:</label><br>
                        <select [(ngModel)]="user.gender" name="gender">
                            <option value="1">Masculino</option> 
                            <option value="2">Femenino</option>
                        </select>
                    </div>

                    <div class="formData l6 m6">
                        <label>Telefono:</label><br>
                        <input [(ngModel)]="user.phone" name="phone" type="tel" placeholder="Telefono" (keyup)="user.validatePhoneFormat()">
                    </div>



                    <div class="formData l6 m6">
                        <label>Fecha de nacimiento:</label><br>
                        <input [(ngModel)]="user.birthday" name="birthday" type="date" placeholder="Cumpleaños">
                    </div>


                    <div class="formData l6 m6">
                        <label>CURP:</label><br>
                        <input [(ngModel)]="user.CURP" name="CURP" type="text" placeholder="Curp" (keyup)="user.upperCaseCURP()">
                    </div>

                    <!-- <div>
                        <label>Foto:</label><br>
                        <input #fileInput class="fileInput" id="fileInput" name="fileInput" type="file" accept="image/x-png,image/gif,image/jpeg">
                    </div> -->

                    <div class="formData l6 m6">
                        <label>Contraseña:</label><br>
                        <input [(ngModel)]="user.password" name="password" placeholder="Contraseña" type="password" [ngClass]="{ inputError: user.validations.password > 0 }">
                        <small class="error" *ngIf="user.validations.password == 1">Se requiere el Correo/Telefono</small>
                    </div>

                </div>
                <!--FIN DE DATOS GENERALES DE USUARIO -->



                <div class="flexRow l6 ">
                    <h2 class="l12">Direccion</h2>

                    <div class="formData l6 m6">
                        <label>Calle:</label><br>
                        <input [(ngModel)]="address.street" name="street" type="text" placeholder="Calle" (keyup)="address.upperStreet()">
                    </div>

                    <div class="formData l6 m6">
                        <label>Numero de casa:</label><br>
                        <input [(ngModel)]="address.house_number" name="houser_number" type="number" placeholder="Numero de casa"><br>
                    </div>

                    <div class="formData l6 m6">
                        <label>Colonia:</label><br>
                        <input [(ngModel)]="address.colony" name="colony" type="text" placeholder="Colonia" (keyup)="address.upperColony()">
                    </div>

                    <div class="formData l6 m6">
                        <label>Ciudad:</label><br>
                        <input [(ngModel)]="address.city" name="city" type="text" placeholder="Ciudad" (keyup)="address.upperCity()"><br>
                    </div>


                </div>

                <button type="submit" class="btn formBtn">Crear Usuario</button>

            </form>


        </div>
    </div>